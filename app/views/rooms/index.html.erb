<div class="sidebar col-auto col-md-3 col-xl-2 bg-secondary">
  <%= render partial: 'layouts/sidebar', locals: { last_public_rooms: Room.public_rooms.last(5), last_users: User.last(5)} %>
</div>

<div id="chatroom_container" class="d-flex flex-column vh-100">
  <div class="room-container w-100 flex-grow-1 d-flex flex-column">
    <% if @single_room %>
      <div class="single-room-top text-center">
        <%= render partial: 'rooms/add_participant_modal', locals: { room: @single_room, user: current_user } %>
      </div>
      <div id="single_room" data-controller="scroll" class="d-flex flex-column flex-grow-1">
        <%= turbo_stream_from @single_room %>
        <div id="messages" class="flex-grow-1">
          <%= render @messages %>
        </div>
        <div class="form_fixed">
          <%= render partial: 'layouts/new_message_form' %>
        </div>
      </div>
    <% end %>
  </div>
</div>

<turbo-frame id="modal_frame"></turbo-frame>