<div class="sidebar col-auto col-md-3 col-xl-2 bg-secondary">
  <%= render partial: 'layouts/sidebar', locals: { last_public_rooms: Room.public_rooms.last(5), last_users: User.last(5)} %>
</div>
<div id="chatroom_container" class="d-flex col-auto">
  <div id="side_panel" class="col-md-4 col-sm-4">
    <h5> Hi <%= current_user.email %> </h5>
    <h4> Users </h4>
    <%= turbo_stream_from "users" %>
    <div id="users">
      <ul class="list-group">
        <%= render @users %>
      </ul>
      <turbo-frame id="modal_frame"></turbo-frame>
    </div>
    <h4> Rooms </h4>
    <%= render partial: "layouts/new_room_form" %>
  </div>
  <div id="room_container"
       class="col-md-8 col-sm-8"
  >
    <% if @single_room %>
      <div id="single_room">
        <div class="single-room-top">
          <%= render partial: 'add_participant_modal', locals: {room: @single_room, user: current_user, } %>
        </div>
        <%= turbo_stream_from @single_room%>
        <div id="messages" data-controller="scroll">
          <%= render @messages %>
        </div>
        <%= render partial: 'layouts/new_message_form' %>
      </div>
    <% end %>
  </div>
</div>